{"ast":null,"code":"var _jsxFileName = \"/Users/aimihat/Desktop/Side Projects/Omniscient/front-end/src/components/DailyView.js\";\nimport React from 'react';\nimport { Typography, Grid, Box, Paper } from '@material-ui/core';\nimport { ResponsiveLine } from '@nivo/line';\n\nfunction sumByDate(list) {\n  const map = new Map();\n  list.forEach(item => {\n    const key = item.date;\n    const collection = map.get(key);\n    map.set(key, item.amount + (collection ? collection : 0));\n  });\n  return map;\n}\n\nDate.prototype.addDays = function (days) {\n  var date = new Date(this.valueOf());\n  date.setDate(date.getDate() + days);\n  return date;\n};\n\nfunction addMissingDays(data) {\n  let firstDay = new Date(data[0].x);\n  let lastDay = new Date(data[data.length - 1].x);\n  const nDays = Math.round((lastDay - firstDay) / (24 * 60 * 60 * 1000));\n  const dates = data.map(r => r.x);\n  let newData = [];\n\n  for (var i = 0; i < nDays; i++) {\n    let day = firstDay.addDays(i).toISOString().slice(0, 10);\n    const ind = dates.indexOf(day);\n\n    if (ind === -1) {\n      newData.push({\n        x: day,\n        y: 0\n      });\n    } else {\n      newData.push(data[ind]);\n    }\n  }\n\n  return newData;\n} // make sure parent container have a defined height when using\n// responsive component, otherwise height will be 0 and\n// no chart will be rendered.\n// website examples showcase many properties,\n// you'll often use just a few of them.\n\n\nconst MyResponsiveBar = ({\n  chartData\n  /* see data tab */\n\n}) => /*#__PURE__*/React.createElement(Box, {\n  height: \"300px\",\n  width: \"100%\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 8\n  }\n}, /*#__PURE__*/React.createElement(ResponsiveLine, {\n  data: [{\n    id: 'Daily Spend',\n    data: addMissingDays(chartData)\n  }],\n  enableArea: true,\n  pointSize: 5,\n  enableCrosshair: false,\n  margin: {\n    bottom: 100\n  },\n  padding: 50,\n  enableGridX: false,\n  enableGridY: false,\n  xScale: {\n    type: 'time',\n    format: '%Y-%m-%d',\n    precision: 'day'\n  },\n  xFormat: \"time:%Y-%m-%d\",\n  axisBottom: {\n    format: '%b %d',\n    tickValues: 'every 2 days',\n    tickRotation: 60\n  },\n  pointBorderWidth: 1,\n  useMesh: true,\n  enableSlices: false,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 3\n  }\n}));\n\nexport default class DailyView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: Array.from(sumByDate(props.transactions)).map(day => {\n        return {\n          x: day[0],\n          y: day[1]\n        };\n      }).reverse()\n    };\n  }\n\n  render() {\n    const {\n      data: chartData\n    } = this.state;\n\n    if (!chartData) {\n      return null;\n    }\n\n    console.log(chartData);\n    return /*#__PURE__*/React.createElement(MyResponsiveBar, {\n      chartData: chartData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/aimihat/Desktop/Side Projects/Omniscient/front-end/src/components/DailyView.js"],"names":["React","Typography","Grid","Box","Paper","ResponsiveLine","sumByDate","list","map","Map","forEach","item","key","date","collection","get","set","amount","Date","prototype","addDays","days","valueOf","setDate","getDate","addMissingDays","data","firstDay","x","lastDay","length","nDays","Math","round","dates","r","newData","i","day","toISOString","slice","ind","indexOf","push","y","MyResponsiveBar","chartData","id","bottom","type","format","precision","tickValues","tickRotation","DailyView","PureComponent","constructor","props","state","Array","from","transactions","reverse","render","console","log"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {Typography, Grid, Box, Paper} from '@material-ui/core';\nimport {ResponsiveLine} from '@nivo/line'\n\nfunction sumByDate(list) {\n  const map = new Map();\n  list.forEach((item) => {\n    const key = item.date;\n    const collection = map.get(key);\n    map.set(key, item.amount + (\n      collection\n      ? collection\n      : 0));\n  });\n  return map;\n}\n\nDate.prototype.addDays = function(days) {\n  var date = new Date(this.valueOf());\n  date.setDate(date.getDate() + days);\n  return date;\n}\n\nfunction addMissingDays(data) {\n  let firstDay = new Date(data[0].x);\n  let lastDay = new Date(data[data.length - 1].x);\n  const nDays = Math.round((lastDay - firstDay) / (24 * 60 * 60 * 1000));\n  const dates = data.map(r => r.x);\n\n  let newData = [];\n\n  for (var i = 0; i < nDays; i++) {\n    let day = firstDay.addDays(i).toISOString().slice(0, 10);\n    const ind = dates.indexOf(day);\n    if (ind === -1) {\n      newData.push({x: day, y: 0});\n    } else {\n      newData.push(data[ind]);\n    }\n  }\n  return newData;\n}\n\n// make sure parent container have a defined height when using\n// responsive component, otherwise height will be 0 and\n// no chart will be rendered.\n// website examples showcase many properties,\n// you'll often use just a few of them.\nconst MyResponsiveBar = ({\n  chartData/* see data tab */\n}) => (<Box height=\"300px\" width=\"100%\">\n  <ResponsiveLine data={[{\n        id: 'Daily Spend',\n        data: addMissingDays(chartData)\n      }\n    ]} enableArea={true} pointSize={5} enableCrosshair={false} margin={{\n      bottom: 100\n    }} padding={50} enableGridX={false} enableGridY={false} xScale={{\n      type: 'time',\n      format: '%Y-%m-%d',\n      precision: 'day'\n    }} xFormat=\"time:%Y-%m-%d\" axisBottom={{\n      format: '%b %d',\n      tickValues: 'every 2 days',\n      tickRotation: 60\n    }} pointBorderWidth={1} useMesh={true} enableSlices={false}/>\n</Box>)\n\nexport default class DailyView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: Array.from(sumByDate(props.transactions)).map(day => {\n        return ({x: day[0], y: day[1]})\n      }).reverse()\n    };\n  }\n\n  render() {\n    const {data: chartData} = this.state;\n\n    if (!chartData) {\n      return null;\n    }\n\n    console.log(chartData);\n\n    return (<MyResponsiveBar chartData={chartData}/>);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}